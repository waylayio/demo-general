{"sensors":[{"label":"BackupPower","name":"streamingDataSensor","version":"1.1.3","dataTrigger":true,"tickTrigger":true,"resource":"$BackupPower","position":[104,309],"sequence":1,"properties":{"parameter":"combinedStatus","threshold":"0"}},{"label":"DoorSensor","name":"streamingDataSensor","version":"1.1.3","dataTrigger":true,"tickTrigger":true,"resource":"$DoorSensor","position":[436,632],"sequence":1,"properties":{"parameter":"doorStatus","threshold":"0"}},{"label":"MainPower","name":"streamingDataSensor","version":"1.1.3","dataTrigger":true,"tickTrigger":true,"resource":"$MainPower","position":[101,184],"sequence":1,"properties":{"parameter":"combinedStatus","threshold":"0"}},{"label":"MovementSensor","name":"streamingDataSensor","version":"1.1.3","dataTrigger":true,"tickTrigger":true,"resource":"$MovementSensor","position":[459,762],"sequence":1,"properties":{"parameter":"pirStatus","threshold":"0"}},{"label":"SmokeSensor","name":"streamingDataSensor","version":"1.1.3","dataTrigger":true,"tickTrigger":true,"resource":"$SmokeSensor","position":[696,645],"sequence":1,"properties":{"parameter":"fireStatus","threshold":"0"}},{"label":"gatewayExtPower","name":"streamingDataSensor","version":"1.1.3","dataTrigger":true,"tickTrigger":true,"resource":"$gateway","position":[147,456],"sequence":1,"properties":{"parameter":"extPower","threshold":"0"}},{"label":"waylayGetMetadata","name":"waylayGetMetadata","version":"1.0.0","dataTrigger":true,"tickTrigger":true,"resource":"$ColdStorageRoom","position":[795,204],"sequence":1,"pollingPeriod":60000,"properties":{"resource":""}}],"actuators":[{"label":"DoorClosedAndMovement","name":"waylayCloudCacheStore","version":"2.0.0","position":[988,815],"properties":{"payload":"{     \n\"alarm_type\" : \"DOOR_CLOSED_MOVEMENT_ALERT\",    \n\"markerIcon\": \"ion-home\",    \n\"markerColor\": \"red\"\n}\n","forward":"","store":"","resource":"waylayGetMetadata.id"}},{"label":"smsDoorClosedAndMovement","name":"TwillioSMSBatch","version":"0.0.1","position":[915,966],"properties":{"message":"The door is closed and there is movement in your cabin – {{waylayGetMetadata.id}}.","to":"waylayGetMetadata.phones"}},{"label":"mailDoorClosedAndMovement","name":"templateMail","version":"0.0.8","position":[1011,924],"properties":{"subject":"The door is closed and there is movement","reply":"","to":"waylayGetMetadata.emails","pdfURL":"","from":"info@waylay.io","message":"The door is closed and there is movement in your cabin – {{waylayGetMetadata.id}}.","send_at":""}},{"label":"DoorAlert","name":"waylayCloudCacheStore","version":"2.0.0","position":[512,512],"properties":{"payload":"{     \n\"alarm_type\" : \"DOOR_ALERT\",    \n\"markerIcon\": \"ion-home\",    \n\"markerColor\": \"orange\"\n}\n","forward":"","store":"","resource":"waylayGetMetadata.id"}},{"label":"MovementAlert","name":"waylayCloudCacheStore","version":"2.0.0","position":[611,908],"properties":{"payload":"{     \n\"alarm_type\" : \"MOVEMENT_ALERT\",    \n\"markerIcon\": \"ion-home\",    \n\"markerColor\": \"orange\"\n}\n","forward":"","store":"","resource":"waylayGetMetadata.id"}},{"label":"clearALL","name":"waylayCloudCacheStore","version":"2.0.0","position":[875,329],"properties":{"payload":"{     \n\"alarm_type\" : \"CLEAR_ALARM\",    \n\"markerIcon\": \"ion-home\",    \n\"markerColor\": \"green\"\n}\n","forward":"","store":"","resource":"waylayGetMetadata.id"}},{"label":"NoPowerAlert","name":"waylayCloudCacheStore","version":"2.0.0","position":[429,169],"properties":{"payload":"{     \n\"alarm_type\" : \"HIGH_VOLTAGE_OUTAGE\",    \n\"markerIcon\": \"ion-home\",    \n\"markerColor\": \"red\"\n}\n","forward":"","store":"","resource":"waylayGetMetadata.id"}},{"label":"smsOutage","name":"TwillioSMSBatch","version":"0.0.1","position":[309,123],"properties":{"message":"Power grid is down, there is no voltage on your installation – {{waylayGetMetadata.id}}.","to":"waylayGetMetadata.phones"}},{"label":"mailOutage","name":"templateMail","version":"0.0.8","position":[586,164],"properties":{"subject":"Power grid outage","reply":"","to":"waylayGetMetadata.emails","pdfURL":"","from":"info@waylay.io","message":"Power grid is down, there is no voltage on your installation – {{waylayGetMetadata.id}}.","send_at":""}},{"label":"mailOutageOK","name":"templateMail","version":"0.0.8","position":[581,292],"properties":{"subject":"Power grid reinstated","reply":"","to":"waylayGetMetadata.emails","pdfURL":"","from":"info@waylay.io","message":"Power grid is reinstated, there is voltage on your installation {{waylayGetMetadata.id}}.","send_at":""}},{"label":"smsOutageOK","name":"TwillioSMSBatch","version":"0.0.1","position":[586,379],"properties":{"message":"Power grid is reinstated, there is voltage on your installation {{waylayGetMetadata.id}}.","to":"Notifications.phones"}},{"label":"SmokeAlert","name":"waylayCloudCacheStore","version":"2.0.0","position":[917,527],"properties":{"payload":"{     \n\"alarm_type\" : \"SMOKE_ALERT\",    \n\"markerIcon\": \"ion-home\",    \n\"markerColor\": \"red\"\n}\n","forward":"","store":"","resource":"waylayGetMetadata.id"}},{"label":"smsSmoke","name":"TwillioSMSBatch","version":"0.0.1","position":[924,629],"properties":{"message":"Smoke has been detected in your cabin – {{waylayGetMetadata.id}}.","to":"waylayGetMetadata.phones"}},{"label":"mailSmoke","name":"templateMail","version":"0.0.8","position":[897,711],"properties":{"subject":"Smoke has been detected","reply":"","to":"waylayGetMetadata.emails","pdfURL":"","from":"info@waylay.io","message":"Smoke has been detected in your cabin – {{waylayGetMetadata.id}}.","send_at":""}},{"label":"extPowerAlert","name":"waylayCloudCacheStore","version":"2.0.0","position":[338,538],"properties":{"payload":"{     \n\"alarm_type\" : \"EXTERNAL_POWER\",    \n\"markerIcon\": \"ion-home\",    \n\"markerColor\": \"red\"\n}\n","forward":"","store":"","resource":"waylayGetMetadata.id"}},{"label":"smsPower","name":"TwillioSMSBatch","version":"0.0.1","position":[291,631],"properties":{"message":"The gateway has gone off line in cabin – {{waylayGetMetadata.id}}.","to":"waylayGetMetadata.phones"}},{"label":"mailPower","name":"templateMail","version":"0.0.8","position":[199,665],"properties":{"subject":"The gateway has gone off line in cabin","reply":"","to":"waylayGetMetadata.emails","pdfURL":"","from":"info@waylay.io","message":"The gateway has gone off line in cabin – {{waylayGetMetadata.id}}.","send_at":""}}],"relations":[{"label":"DOORCLOSED_AND_MOVEMENT","type":"AND","position":[678,777],"parentLabels":["MovementSensor","DoorSensor"],"combinations":[["Above","Equal"]]},{"label":"NO_ISSUES","type":"AND","position":[736,489],"parentLabels":["NoPower","MovementSensor","SmokeSensor","DoorSensor","gatewayExtPower"],"combinations":[["FALSE","Equal","Equal","Equal","Above"]]},{"label":"NoPower","type":"AND","position":[298,312],"parentLabels":["MainPower","BackupPower"],"combinations":[["Equal","Equal"]]}],"triggers":[{"destinationLabel":"DoorClosedAndMovement","sourceLabel":"DOORCLOSED_AND_MOVEMENT","invocationPolicy":0,"statesTrigger":["TRUE"]},{"destinationLabel":"smsDoorClosedAndMovement","sourceLabel":"DOORCLOSED_AND_MOVEMENT","invocationPolicy":0,"statesTrigger":["TRUE"]},{"destinationLabel":"mailDoorClosedAndMovement","sourceLabel":"DOORCLOSED_AND_MOVEMENT","invocationPolicy":0,"statesTrigger":["TRUE"]},{"destinationLabel":"DoorAlert","sourceLabel":"DoorSensor","invocationPolicy":0,"statesTrigger":["Above"]},{"destinationLabel":"MovementAlert","sourceLabel":"MovementSensor","invocationPolicy":0,"statesTrigger":["Above"]},{"destinationLabel":"clearALL","sourceLabel":"NO_ISSUES","invocationPolicy":0,"statesTrigger":["TRUE"]},{"destinationLabel":"NoPowerAlert","sourceLabel":"NoPower","invocationPolicy":0,"statesTrigger":["TRUE"]},{"destinationLabel":"smsOutage","sourceLabel":"NoPower","invocationPolicy":0,"statesTrigger":["TRUE"]},{"destinationLabel":"mailOutage","sourceLabel":"NoPower","invocationPolicy":0,"statesTrigger":["TRUE"]},{"destinationLabel":"mailOutageOK","sourceLabel":"NoPower","invocationPolicy":0,"stateChangeTrigger":{"stateFrom":"TRUE","stateTo":"FALSE"}},{"destinationLabel":"smsOutageOK","sourceLabel":"NoPower","invocationPolicy":0,"stateChangeTrigger":{"stateFrom":"TRUE","stateTo":"FALSE"}},{"destinationLabel":"SmokeAlert","sourceLabel":"SmokeSensor","invocationPolicy":0,"statesTrigger":["Above"]},{"destinationLabel":"smsSmoke","sourceLabel":"SmokeSensor","invocationPolicy":0,"statesTrigger":["Above"]},{"destinationLabel":"mailSmoke","sourceLabel":"SmokeSensor","invocationPolicy":0,"statesTrigger":["Above"]},{"destinationLabel":"extPowerAlert","sourceLabel":"gatewayExtPower","invocationPolicy":0,"statesTrigger":["Equal"]},{"destinationLabel":"smsPower","sourceLabel":"gatewayExtPower","invocationPolicy":0,"statesTrigger":["Equal"]},{"destinationLabel":"mailPower","sourceLabel":"gatewayExtPower","invocationPolicy":0,"statesTrigger":["Equal"]}],"name":"bruno-multi-resource"}